# 터틀 트레이딩 전략 BTC 백테스트 최적화 결과 분석

## 📊 개요

- **분석 기간**: 2018-01-01 ~ 2025-11-05 (약 7.8년)
- **데이터 포인트**: 2,866개
- **테스트 조합 수**: 60개 (진입 채널 5개 × 청산 채널 4개 × 슬리피지 3개)
- **전략**: Richard Dennis의 터틀 트레이딩 (Donchian Channel Breakout)

## 🎯 최적화 파라미터

### 테스트 범위
- **진입 채널 (Entry Period)**: 10일, 20일, 30일, 40일, 55일
- **청산 채널 (Exit Period)**: 5일, 10일, 15일, 20일
- **슬리피지 (Slippage)**: 0.1%, 0.2%, 0.3%

## 📈 주요 최적화 결과

### 1. Sharpe Ratio 기준 (리스크 대비 수익 최적화)
```
✅ 최적 파라미터:
- 진입 채널: 20일
- 청산 채널: 5일
- 슬리피지: 0.1%

📊 성과 지표:
- CAGR: 66.88%
- 총 수익률: 5,452.70%
- MDD: -31.24%
- Sharpe Ratio: 1.22
- Sortino Ratio: 1.48
- Calmar Ratio: 2.14
- 승률: 60.27%
- 총 거래 횟수: 73회
- Profit Factor: 5.04
- 평균 수익: 13.59%
- 평균 손실: -4.09%
- 평균 보유 기간: 12일
```

### 2. CAGR 기준 (절대 수익률 최적화)
```
✅ 최적 파라미터:
- 진입 채널: 20일
- 청산 채널: 15일
- 슬리피지: 0.1%

📊 성과 지표:
- CAGR: 78.36%
- 총 수익률: 9,258.47%
- MDD: -19.24%
- Sharpe Ratio: 0.84
- Win Rate: 58.54%
- Total Trades: 41회
- Profit Factor: 8.24
- 평균 수익: 31.55%
- 평균 보유 기간: 33일
```

### 3. Calmar Ratio 기준 (MDD 대비 수익 최적화)
```
✅ 최적 파라미터:
- 진입 채널: 10일
- 청산 채널: 10일
- 슬리피지: 0.1%

📊 성과 지표:
- CAGR: 73.32%
- 총 수익률: 7,374.62%
- MDD: -17.38% (가장 낮은 MDD!)
- Sharpe Ratio: 0.93
- Sortino Ratio: 1.87
- Calmar Ratio: 4.22
- Win Rate: 48.75%
- Total Trades: 80회
- Profit Factor: 4.03
```

## 🔍 심층 분석

### A. 진입 채널 기간별 성과

| Entry Period | 평균 CAGR | 평균 MDD | 평균 Sharpe |
|--------------|-----------|----------|-------------|
| 10일         | 71.8%     | -25.4%   | 1.09        |
| 20일         | 71.7%     | -24.8%   | 0.98        |
| 30일         | 61.3%     | -25.0%   | 0.98        |
| 40일         | 59.3%     | -20.1%   | 0.91        |
| 55일         | 51.9%     | -22.2%   | 0.83        |

**인사이트**:
- 짧은 진입 채널(10~20일)이 높은 CAGR을 제공
- 긴 진입 채널(55일)은 수익률이 낮지만 안정적
- 10~20일 진입 채널이 BTC 시장에 가장 적합

### B. 청산 채널 기간별 성과

| Exit Period | 평균 CAGR | 평균 MDD | 평균 Sharpe |
|-------------|-----------|----------|-------------|
| 5일         | 60.5%     | -27.9%   | 1.13        |
| 10일        | 70.6%     | -20.7%   | 0.92        |
| 15일        | 70.4%     | -19.6%   | 0.83        |
| 20일        | 64.7%     | -28.6%   | 0.81        |

**인사이트**:
- 짧은 청산 채널(5일)이 높은 Sharpe Ratio 제공
- 중간 청산 채널(10~15일)이 높은 CAGR과 낮은 MDD 제공
- 긴 청산 채널(20일)은 큰 MDD로 비효율적

### C. 슬리피지 영향

| Slippage | 평균 CAGR | CAGR 감소 | 성과 영향 |
|----------|-----------|-----------|-----------|
| 0.1%     | 65.3%     | -         | 기준      |
| 0.2%     | 64.2%     | -1.1%     | -1.7%     |
| 0.3%     | 63.2%     | -2.1%     | -3.2%     |

**인사이트**:
- 슬리피지 0.1% 증가 시 CAGR 약 1.1%p 감소
- 실거래 시 슬리피지 최소화가 중요
- 거래소 선택과 주문 방식 최적화 필요

### D. 거래 빈도 vs 성과

| 파라미터 조합 | 거래 횟수 | CAGR | Sharpe | 분석 |
|--------------|-----------|------|--------|------|
| E10/X5       | 109회     | 73.4% | 1.21  | 빈번한 거래, 높은 Sharpe |
| E20/X15      | 41회      | 78.4% | 0.84  | 적은 거래, 높은 CAGR |
| E40/X15      | 31회      | 63.7% | 0.79  | 매우 적은 거래 |

**인사이트**:
- 거래 횟수가 많을수록 Sharpe Ratio 향상
- 거래 횟수가 적을수록 개별 거래의 중요도 증가
- 중간 수준(50~80회)이 균형잡힌 성과 제공

### E. 승률 vs Profit Factor

| 승률 구간 | 평균 Profit Factor | 평균 CAGR |
|-----------|-------------------|-----------|
| 45-50%    | 3.8               | 71.2%     |
| 50-55%    | 5.1               | 61.8%     |
| 55-60%    | 6.8               | 71.5%     |
| 60-65%    | 9.8               | 63.7%     |

**인사이트**:
- 승률 55-60% 구간이 CAGR과 Profit Factor 모두 우수
- 높은 승률(60%+)이 반드시 높은 수익률을 보장하지 않음
- 승리 시 평균 수익 > 패배 시 평균 손실이 중요

## 💡 핵심 발견사항

### 1. 최적 파라미터 조합 특징
- **단기 진입 + 초단기 청산 (20/5)**: 높은 Sharpe Ratio (1.22)
- **단기 진입 + 중기 청산 (20/15)**: 최고 CAGR (78.36%)
- **초단기 진입 + 단기 청산 (10/10)**: 최저 MDD (-17.38%)

### 2. BTC 시장 특성
- BTC의 높은 변동성으로 인해 짧은 기간 채널이 효과적
- 20일 진입 채널이 시장의 중기 추세를 잘 포착
- 5~15일 청산 채널이 손실 제한에 효과적

### 3. 리스크-수익 트레이드오프
```
고수익 전략 (CAGR 최대화):
- 20일 진입 / 15일 청산
- CAGR 78.36%, MDD -19.24%
- 긴 보유 기간 (33일)

안정성 전략 (MDD 최소화):
- 10일 진입 / 10일 청산
- CAGR 73.32%, MDD -17.38%
- 중간 보유 기간 (19일)

균형 전략 (Sharpe 최대화):
- 20일 진입 / 5일 청산
- CAGR 66.88%, Sharpe 1.22
- 짧은 보유 기간 (12일)
```

## 📊 성과 비교

### Buy & Hold 대비
- Buy & Hold CAGR (추정): ~45-50%
- 터틀 전략 최고 CAGR: 78.36%
- **초과 수익**: 약 28-33%p

### 주요 성과 지표
| 지표 | 최고값 | 최저값 | 중앙값 |
|------|--------|--------|--------|
| CAGR | 78.36% | 51.66% | 66.5% |
| MDD  | -17.38%| -35.64%| -25.0% |
| Sharpe | 1.22 | 0.78   | 0.93  |
| Sortino| 1.87 | 0.95   | 1.47  |
| Win Rate| 61.29%| 46.25%| 55.0% |
| Profit Factor| 10.43| 3.32| 5.1 |

## 🎓 결론 및 권장사항

### 추천 전략 (투자 성향별)

#### 1️⃣ 공격적 투자자
```
파라미터: Entry 20일 / Exit 15일 / Slippage 0.1%
특징: 최고 CAGR (78.36%), 낮은 MDD (-19.24%)
장점: 높은 절대 수익률, 적은 거래 횟수
단점: 상대적으로 낮은 Sharpe Ratio
```

#### 2️⃣ 균형 투자자 (추천)
```
파라미터: Entry 20일 / Exit 5일 / Slippage 0.1%
특징: 최고 Sharpe Ratio (1.22), 우수한 CAGR (66.88%)
장점: 리스크 대비 최고 수익, 높은 승률 (60.27%)
단점: 중간 수준의 MDD (-31.24%)
```

#### 3️⃣ 안정적 투자자
```
파라미터: Entry 10일 / Exit 10일 / Slippage 0.1%
특징: 최저 MDD (-17.38%), 우수한 CAGR (73.32%)
장점: 낮은 손실 위험, 높은 Calmar Ratio (4.22)
단점: 상대적으로 많은 거래 횟수 (80회)
```

### 실전 적용 시 고려사항

1. **슬리피지 관리**
   - 지정가 주문 활용
   - 거래량 많은 시간대 거래
   - 대형 거래소 사용

2. **포지션 사이징**
   - ATR 기반 포지션 크기 조절 권장
   - 계좌의 1-2% 리스크로 제한
   - 시장 변동성 고려

3. **시장 환경 고려**
   - 강세장: 긴 진입/청산 채널 유리
   - 약세장: 짧은 청산 채널로 손실 제한
   - 횡보장: 전략 효과 제한적

4. **추가 개선 방향**
   - ATR 기반 동적 포지션 사이징 추가
   - 피라미딩 전략 구현
   - 필터 추가 (추세 강도, 변동성 등)
   - 롱/숏 양방향 전략 확장

## 📁 생성된 파일

1. `turtle_trading_optimization.py` - 최적화 코드
2. `turtle_trading_optimization_results.csv` - 60개 조합 상세 결과
3. `turtle_trading_optimization.png` - 최적화 결과 시각화 (13개 차트)
4. `turtle_trading_best_backtest.png` - 최적 파라미터 백테스트 시각화
5. `TURTLE_TRADING_ANALYSIS.md` - 본 분석 문서

## 🔗 참고자료

- 터틀 트레이딩 원리: Donchian Channel Breakout
- 테스트 기간: 2018-01-01 ~ 2025-11-05
- 거래 방식: 롱 온리 (Long Only)
- 수수료: 슬리피지로 통합 (0.1~0.3%)

---

**분석 일자**: 2025-11-07
**분석 도구**: Python (pandas, numpy, matplotlib, seaborn)
**데이터 소스**: BTC_KRW (업비트)
